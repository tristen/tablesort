/*!
 * tablesort v5.4.0 (2022-06-26)
 * http://tristen.ca/tablesort/demo/
 * Copyright (c) 2022 ; Licensed MIT
*/
!function(){function n(t,e){if(!(this instanceof n))return new n(t,e);if(!t||"TABLE"!==t.tagName)throw new Error("Element must be a table");this.init(t,e||{})}function g(t){var e;return window.CustomEvent&&"function"==typeof window.CustomEvent?e=new CustomEvent(t):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),e}function p(t,e){return t.getAttribute(e.sortAttribute||"data-sort")||t.textContent||t.innerText||""}function v(t,e){return(t=t.trim().toLowerCase())===(e=e.trim().toLowerCase())?0:t<e?1:-1}function E(t,e){return[].slice.call(t).find(function(t){return t.getAttribute("data-sort-column-key")===e})}function A(o,r){return function(t,e){var n=o(t.td,e.td);return 0===n?r?e.index-t.index:t.index-e.index:n}}var x=[];n.extend=function(t,e,n){if("function"!=typeof e||"function"!=typeof n)throw new Error("Pattern and sort must be a function");x.push({name:t,pattern:e,sort:n})},n.prototype={init:function(t,e){var n,o,r,i=this;if(i.table=t,i.thead=!1,i.options=e,t.rows&&0<t.rows.length)if(t.tHead&&0<t.tHead.rows.length){for(r=0;r<t.tHead.rows.length;r++)if("thead"===t.tHead.rows[r].getAttribute("data-sort-method")){n=t.tHead.rows[r];break}n=n||t.tHead.rows[t.tHead.rows.length-1],i.thead=!0}else n=t.rows[0];if(n){function s(){var t=i.options.modeButton?this.parentNode:this;i.current&&i.current!==t&&i.current.removeAttribute("aria-sort"),i.current=t,i.sortTable(t)}var a,d,u;for(i.options.modeButton&&(a=document.createElement("button")),r=0;r<n.cells.length;r++)(u=n.cells[r]).setAttribute("role","columnheader"),"none"!==u.getAttribute("data-sort-method")&&(i.options.modeButton?((d=a.cloneNode(!1)).addEventListener("click",s,!1),d.appendChild(...u.childNodes),u.classList.add("button-sort"),u.appendChild(d)):(u.tabIndex=0,u.addEventListener("click",s,!1)),null!==u.getAttribute("data-sort-default")&&(o=u));o&&(i.current=o,i.sortTable(o))}},sortTable:function(t,e){var n=this,o=t.getAttribute("data-sort-column-key"),r=t.cellIndex,i=v,s="",a=[],d=n.thead?0:1,u=t.getAttribute("data-sort-method"),l=t.getAttribute("aria-sort");if(n.table.dispatchEvent(g("beforeSort")),e||(l="ascending"===l||"descending"!==l&&n.options.descending?"descending":"ascending",t.setAttribute("aria-sort",l)),!(n.table.rows.length<2)){if(!u){for(;a.length<3&&d<n.table.tBodies[0].rows.length;)0<(s=(s=(f=o?E(n.table.tBodies[0].rows[d].cells,o):n.table.tBodies[0].rows[d].cells[r])?p(f,n.options):"").trim()).length&&a.push(s),d++;if(!a)return}for(d=0;d<x.length;d++)if(s=x[d],u){if(s.name===u){i=s.sort;break}}else if(a.every(s.pattern)){i=s.sort;break}for(n.col=r,d=0;d<n.table.tBodies.length;d++){var c,f,h=[],b={},m=0,w=0;if(!(n.table.tBodies[d].rows.length<2)){for(c=0;c<n.table.tBodies[d].rows.length;c++)"none"===(s=n.table.tBodies[d].rows[c]).getAttribute("data-sort-method")?b[m]=s:(f=o?E(s.cells,o):s.cells[n.col],h.push({tr:s,td:f?p(f,n.options):"",index:m})),m++;for("descending"===l?h.sort(A(i,!0)):(h.sort(A(i,!1)),h.reverse()),c=0;c<m;c++)b[c]?(s=b[c],w++):s=h[c-w].tr,n.table.tBodies[d].appendChild(s)}}n.table.dispatchEvent(g("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},"undefined"!=typeof module&&module.exports?module.exports=n:window.Tablesort=n}();