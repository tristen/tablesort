/*!
 * tablesort v2.2.0 (2015-01-26)
 * http://tristen.ca/tablesort/demo
 * Copyright (c) 2015 ; Licensed MIT
*/!function(){function a(a,b){if(!a)throw new Error("Element not found");if("TABLE"!==a.tagName)throw new Error("Element must be a table");this.init(a,b||{})}a.sortNumber=function(a,b){return a=l(a),b=l(b),k(b,a)},a.sortDotSep=function(a,b){a=a.split("."),b=b.split(".");for(var c=0,d=a.length;d>c;c++){var e=parseInt(a[c]),f=parseInt(b[c]);if(e!=f){if(f>e)return-1;if(e>f)return 1}}return 0},a.sortDate=function(a,b){return a=a.toLowerCase(),b=b.toLowerCase(),h(b)-h(a)},a.sortFilesize=function(a,b){return a=filesize2num(a),b=filesize2num(b),k(b,a)},a.sortCaseInsensitive=function(a,b){var a=a.toLowerCase(),b=b.toLowerCase();return a===b?0:b>a?1:-1},a.prototype={init:function(a,d){var e,f=this;if(this.thead=!1,this.options=d,a.rows&&a.rows.length>0&&(a.tHead&&a.tHead.rows.length>0?(e=a.tHead.rows[a.tHead.rows.length-1],f.thead=!0):e=a.rows[0]),e){for(var g,h=function(){f.current&&f.current!==this&&(f.current.classList.contains(b)?f.current.classList.remove(b):f.current.classList.contains(c)&&f.current.classList.remove(c)),f.current=this,f.sortTable(this)},i=0;i<e.cells.length;i++){var j=e.cells[i];j.classList.contains("no-sort")||(j.classList.add("sort-header"),j.addEventListener("click",h,!1),j.classList.contains("sort-default")&&(g=j))}g&&(f.current=g,f.sortTable(g,!0))}},getFirstDataRowIndex:function(){return this.thead?0:1},sortTable:function(d){var e,f=this,h=d.cellIndex,k=i(d,"table"),l="",m=f.getFirstDataRowIndex(),n=!1;if(!(k.rows.length<=1)){for(;""===l&&m<k.tBodies[0].rows.length;)l=j(k.tBodies[0].rows[m].cells[h]),l=l.trim(),("<!--"===l.substr(0,4)||0===l.length)&&(l=""),m++;if(""!==l){"object"==typeof f.options.customSort&&d.cellIndex.toString()in f.options.customSort&&"function"==typeof f.options.customSort[d.cellIndex.toString()]?(e=f.options.customSort[d.cellIndex.toString()],n=!0):e=l.match(/^-?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||l.match(/^-?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||l.match(/^-?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)?a.sortNumber:/^(\d+\.)+\d+$/.test(l)?a.sortDotSep:/^\d+(\.\d+)? ?(k|M|G|T|P|E|Z|Y)?i?B?$/i.test(l)?a.sortFilesize:g(l)?a.sortDate:a.sortCaseInsensitive,this.col=h;var o,p=[],q={},r=0;for(m=0;m<k.tBodies.length;m++)for(o=0;o<k.tBodies[m].rows.length;o++){var s=k.tBodies[m].rows[o];s.classList.contains("no-sort")?q[r]=s:p.push({tr:s,index:r}),r++}var t;t=d.classList.contains(b)?c:d.classList.contains(c)?b:f.options.descending?b:c,d.classList.remove(b,!1),d.classList.remove(c,!1),d.classList.add(t,!0);var u=function(a,b,c,d){return function(e,f){var g=a(j(e.tr.cells[b]),j(f.tr.cells[b]),c,e.tr,f.tr,b);return 0===g?(d&&f.index-e.index,e.index-f.index):g}};d.classList.contains(c)?(p.sort(u(e,this.col,"asc",!0)),n||p.reverse()):p.sort(u(e,this.col,"desc"));var v=0;for(m=0;r>m;m++){var w;q[m]?(w=q[m],v++):w=p[m-v].tr,k.tBodies[0].appendChild(w)}}}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}};var b="sort-up",c="sort-down",d=/(Mon|Tue|Wed|Thu|Fri|Sat|Sun)\.?\,?\s*/i,e=/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/,f=/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,g=function(a){return-1!==(-1!==a.search(d)||-1!==a.search(e)||a.search(-1!==f))&&!isNaN(h(a))},h=function(a){return a=a.replace(/\-/g,"/"),a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3"),new Date(a).getTime()},i=function(a,b){return null===a?null:1===a.nodeType&&a.tagName.toLowerCase()===b.toLowerCase()?a:i(a.parentNode,b)},j=function(a){var b=this;if("string"==typeof a||"undefined"==typeof a)return a;var c=a.getAttribute("data-sort")||"";if(c)return c;if(a.textContent)return a.textContent;if(a.innerText)return a.innerText;for(var d=a.childNodes,e=d.length,f=0;e>f;f++)switch(d[f].nodeType){case 1:c+=b.getInnerText(d[f]);break;case 3:c+=d[f].nodeValue}return c},k=function(a,b){var c=parseFloat(a),d=parseFloat(b);return a=isNaN(c)?0:c,b=isNaN(d)?0:d,a-b},l=function(a){return a.replace(/[^\-?0-9.]/g,"")};filesize2num=function(a){var b=a.match(/^(\d+(\.\d+)?) ?((k|M|G|T|P|E|Z|Y)?i?B?)$/i),c=parseFloat(l(b[1])),d=b[3];return c*suffix2num(d)},suffix2num=function(a){a=a.toLowerCase();var b="i"===a[1]?1024:1e3;switch(a[0]){case"k":return Math.pow(b,2);case"m":return Math.pow(b,3);case"g":return Math.pow(b,4);case"t":return Math.pow(b,5);case"p":return Math.pow(b,6);case"e":return Math.pow(b,7);case"z":return Math.pow(b,8);case"y":return Math.pow(b,9);default:return b}},"undefined"!=typeof module&&module.exports?module.exports=a:window.Tablesort=a}();